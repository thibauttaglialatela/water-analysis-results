{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} - affichage des résultats{% endblock %}

{% block body %}
<section class="container px-6 py-16 mx-auto">
<h1 class="text-3xl font-semibold text-center text-gray-800 dark:text-white lg:text-4xl">Notre outil de recherche</h1>
{% if code_commune%}
<p class="text-lg text-center text-gray-800 dark:text-white lg:text-4xl">Le code commune est le suivant : {{ code_commune }}</p>
{% endif %}
{# {{ dump(grouped_results) }} #}
{% for parameter, results in grouped_results %}
<h3 class="text-xl font-semibold text-center text-gray-800 dark:text-white lg:text-2xl">{{ parameter }}</h3>
<table class="min-w-full divide-y-2 divide-gray-200 dark:divide-gray-700">
<thead class="ltr:text-left rtl:text-right">
<tr>
      <th class="border border-gray-300">valeur</th>
      <th class="border border-gray-300">unité</th>
      <th class="border border-gray-300">date</th>
</tr>
</thead>
<tbody class="divide-y divide-gray-200 dark:divide-gray-700">
{% for item in results %}
<tr>
      <td>{{ item.value }}</td>
      <td>{{ item.unit }}</td>
      <td>{{ item.date|date("d/m") }}</td>
</tr>
{% endfor %}
</tbody>
</table>
{% endfor %}
</section>
{% endblock %}
